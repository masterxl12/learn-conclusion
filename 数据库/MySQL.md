

### 一、工具环境安装

```
1.MySQL安装
```

```
2.可视化工具安装(Navcait)
```

### 二、SQL概述

#### 2.1 SQL概述

(Structured Query Language)结构化查询语言的缩写，是访问和处理关系数据库的计算机标准语言。SQL语句既可以查询数据库中的数据，也可以添加、更新和删除数据库中的数据，还可以对数据库进行管理和维护操作。

#### 2.2 SQL操作数据库能力

##### 2.2.1 **DDL：**

Data Definition Language

DDL允许用户定义数据，也就是创建表、删除表、修改表结构这些操作。通常，DDL由数据库管理员执行。

##### 2.2.2**DML：**

Data Manipulation Language

DML为用户提供添加、删除、更新数据的能力，这些是应用程序对数据库的日常操作。

##### **2.2.3 DQL：**

Data Query Language—DQL允许用户查询数据，这也是通常最频繁的数据库日常操作。

#### 2.3 数据类型

对于一个关系表，除了定义每一列的名称外，还需要定义每一列的数据类型。关系数据库支持的标准数据类型包括数值、字符串、时间等：

| 名称         | 类型           | 说明                                                         |
| :----------- | :------------- | :----------------------------------------------------------- |
| INT          | 整型           | 4字节整数类型，范围约+/-21亿                                 |
| BIGINT       | 长整型         | 8字节整数类型，范围约+/-922亿亿                              |
| REAL         | 浮点型         | 4字节浮点数，范围约+/-1038                                   |
| DOUBLE       | 浮点型         | 8字节浮点数，范围约+/-10308                                  |
| DECIMAL(M,N) | 高精度小数     | 由用户指定精度的小数，例如，DECIMAL(20,10)表示一共20位，其中小数10位，通常用于财务计算 |
| CHAR(N)      | 定长字符串     | 存储指定长度的字符串，例如，CHAR(100)总是存储100个字符的字符串 |
| VARCHAR(N)   | 变长字符串     | 存储可变长度的字符串，例如，VARCHAR(100)可以存储0~100个字符的字符串 |
| BOOLEAN      | 布尔类型       | 存储True或者False                                            |
| DATE         | 日期类型       | 存储日期，例如，2018-06-22                                   |
| TIME         | 时间类型       | 存储时间，例如，12:20:59                                     |
| DATETIME     | 日期和时间类型 | 存储日期+时间，例如，2018-06-22 12:20:59                     |

选择数据类型的时候，要根据业务规则选择合适的类型。通常来说，`BIGINT`能满足==整数存储==的需求，`VARCHAR(N)`能满足==字符串存储==的需求，这两种类型是使用最广泛的。

#### 2.4 语法特点

**SQL语言关键字不区分大小写！！！**

但是，针对不同的数据库，对于表名和列名，有的数据库区分大小写，有的数据库不区分大小写。同一个数据库，有的在Linux上区分大小写，有的在Windows上不区分大小写。

#### 2.5 主流关系数据库

目前，主流的关系数据库主要分为以下几类：

1. 商用数据库，例如：[Oracle](https://www.oracle.com/)，[SQL Server](https://www.microsoft.com/sql-server/)，[DB2](https://www.ibm.com/db2/)等；
2. 开源数据库，例如：[MySQL](https://www.mysql.com/)，[PostgreSQL](https://www.postgresql.org/)等；
3. 桌面数据库，以微软[Access](https://products.office.com/access)为代表，适合桌面应用程序使用；
4. 嵌入式数据库，以[Sqlite](https://sqlite.org/)为代表，适合手机应用和桌面程序。

### 三、关系模型

#### 3.1 主键

##### 3.1.1 定义及特点：

- 定义：能够通过某个字段唯一区分出不同的记录，这个字段即称为==主键==

- 特点：记录一旦插入到表中，主键最好不要再修改，因为主键是用来唯一定位记录的，修改主键，会造成一系列的影响。

- 基本原则：不使用任何业务相关的字段作为主键。

##### 3.1.2 主键`id`字段的类型

1. ==自增整数类型==：数据库会在插入数据时自动为每一条记录分配一个自增整数，这样我们就完全不用担心主键重复，也不用自己预先生成主键；
2. ==全局唯一GUID类型==：使用一种全局唯一的字符串作为主键，类似`8f55d96b-8acc-4636-8cb8-76bf8abc2f57`。GUID算法通过网卡MAC地址、时间戳和随机数保证任意计算机在任意时间生成的字符串都是不同的，大部分编程语言都内置了GUID算法，可以自己预算出主键。
3. 类型要求：`BIGINT NOT NULL AUTO_INCREMENT`类型

##### 3.1.3 联合主键

​		关系数据库实际上还允许通过多个字段唯一标识记录，即两个或更多的字段都设置为主键，这种主键被称为联合主键。

​		对于联合主键，允许一列有重复，只要不是所有主键列都重复即可：

| id_num | id_type | other columns... |
| :----- | :------ | :--------------- |
| 1      | A       | ...              |
| 2      | A       | ...              |
| 2      | B       | ...              |

​		如果我们把上述表的`id_num`和`id_type`这两列作为联合主键，那么上面的3条记录都是允许的，因为没有两列主键组合起来是相同的。

没有必要的情况下，我们尽量不使用联合主键，因为它给关系表带来了复杂度的上升。

##### 3.1.4 小结

1、主键是关系表中记录的唯一标识。

2、主键的选取非常重要：主键不要带有业务含义，而应该使用BIGINT自增或者GUID类型。主键也不应该允许`NULL`。

3、可以使用多个列作为联合主键，但联合主键并不常用。

#### 3.2 外键

作用：通过一个表的外键可以关联到另一个表

3.2.1 一对多/多对一

3.2.2 多对多(使用中间表)

#### 3.3 索引